<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>

  <!-- Artifact content fragment -->
  <div th:fragment="content" th:id="'artifact-container-' + ${index}">
    <!-- View Mode -->
    <pre th:id="'artifact-view-' + ${index}"
      class="bg-gray-50 dark:bg-gray-900 px-2 py-2 md:px-0 md:py-0 md:rounded overflow-x-auto"><code th:text="${artifact.content}">Artifact content will appear here</code></pre>

    <!-- Edit Mode (Hidden by default) -->
    <div th:id="'artifact-edit-' + ${index}" class="hidden px-2 pb-2 md:px-0 md:pb-0">
      <textarea th:id="'artifact-editor-' + ${index}" rows="15" th:text="${artifact.content}"
        class="w-full px-2 py-1.5 md:px-3 md:py-2 border border-gray-300 dark:border-gray-600 md:rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"></textarea>
      <div class="flex justify-end space-x-2 mt-1.5 md:mt-2">
        <button th:attr="onclick=${'cancelArtifactEdit(' + index + ')' }"
          class="px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded transition-colors">
          Cancel
        </button>
        <button th:attr="onclick=${'saveArtifactContent(''' + noteId + ''',' + index + ')' }"
          class="px-3 py-1.5 text-sm text-white bg-green-500 hover:bg-green-600 rounded transition-colors">
          <i class="fas fa-save mr-1"></i>
          Save
        </button>
      </div>
    </div>

    <!-- Edit Button (Only visible in view mode) -->
    <button th:id="'artifact-edit-btn-' + ${index}"
      th:attr="onclick=${'enterArtifactEditMode(' + index + ')' }"
      class="mt-1.5 md:mt-2 mx-2 mb-2 md:mx-0 md:mb-0 px-3 py-1.5 text-sm text-white bg-primary-500 hover:bg-primary-600 rounded transition-colors">
      <i class="fas fa-edit mr-1"></i>
      Edit Content
    </button>
  </div>

</body>

</html>